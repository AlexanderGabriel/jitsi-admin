{% extends 'join/base.html.twig' %}

{% block content %}
    <style>
        {% if image is not null %}
        body{
            background-image: url("{{ image['src']['original'] }}?auto=compress&cs=tinysrgb&w=1920");
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-size: cover;
        }
        {% endif %}
    </style>
    <div class="card">
        <div class="card-body">
            <div class="row">
                <div class="col-md-3 text-center text-md-left mb-2 mb-md-0">
                    {% if server is not null and server.logoUrl is not null %}
                        <img src="{{ server.logoUrl }}" style="height: 50px">
                    {% else %}
                        <img src="{{ asset('logo.png') }}" style="height: 50px">
                    {% endif %}

                </div>
                <div class="col-md-6">
                    <h1 class="h1-responsive text-center">{{ 'Konferenz beitreten'|trans }}</h1>
                </div>
            </div>

            <hr>
            <div class="text-center">
            </div>
            <div class="row mb-5">
                <div class="col-md-1 text-center text-md-left">

                </div>
                <div class="offset-md-1 col-md-8">
                    <p class="text-center text-md-left">
                        {{ 'Füllen Sie das Formular aus um der Konferenz beizutreten'|trans }}
                    </p>

                    {{ form_start(form) }}
                    {{ form_row(form.uid) }}
                    {{ form_row(form.email) }}
                    {{ form_row(form.name) }}
                    <div class="row form-group">
                        <div class="col-2 col-md-1">
                            <input type="checkbox" id="dsgvo" name="dsgvo" required>
                        </div>
                        <div class="col-10 col-md-11">
                            <label class="required" for="dsgvo">
                                {% if server and server.privacyPolicy %}
                                    {% trans with {'{dataPrivay}': dataPrivacy,'{url}': server.url,'{privacyUrl}':server.privacyPolicy} %}
                                        Ich habe die
                                        <a href="{dataPrivay}" target="_blank" referrerpolicy="no-referrer">
                                            <u>Datenschutzhinweise von Jitsi Admin</u>
                                            <i class="fa fa-external-link-alt"></i>
                                        </a>
                                        und die
                                        <a href="{privacyUrl}" target="_blank"
                                           referrerpolicy="no-referrer">
                                            <u>Datenschutzhinweise von {url}</u>
                                            <i class="fa fa-external-link-alt"></i>
                                        </a>
                                        gelesen und akzeptiere die Verarbeitung.
                                    {% endtrans %}

                                {% else %}
                                    {% trans with {'{dataPrivay}': dataPrivacy} %}
                                        Ich habe die
                                        <a href="{dataPrivay}" target="_blank" referrerpolicy="no-referrer">
                                            <u>Datenschutzhinweise von Jitsi Admin</u>
                                            <i class="fa fa-external-link-alt"></i>
                                        </a>
                                        gelesen und akzeptiere die Verarbeitung.
                                    {% endtrans %}
                                {% endif %}

                            </label><br>

                            <p style="font-size: 10px">
                                {% trans %}
                                    Wir weisen darauf hin, dass Sie durch das klicken auf "Beitreten"
                                    auf einen Jitsi Meet Server weitergeleitet werden. Jitsi Admin gibt den "Name" aus
                                    dem Formular an den Jitsi Meet Server weiter.
                                {% endtrans %}
                            </p>
                        </div>
                    </div>
                    {{ form_end(form) }}
                </div>
            </div>
            {% if not server %}
                <p>
                    {% trans %}
                        Wer eine datenschutzfreundliche Videokonferenz Plattform sucht die auf dem eigenen Server betrieben
                        wird ist mit dem Open Source Tool Jitsi gut bedient. Jitsi ist eine Alternative zu Zoom. Sie
                        speichert keine Nutzerdaten und ermöglicht die verschlüsselte Anwendung.
                    {% endtrans %}
                </p>
            {% endif %}
        </div>
        <div class="card-footer text-center">
            <a href="{{ path('index') }}" class="btn btn-outline-danger btn-sm">{{ 'Startseite'|trans }}</a>
            <a href="{{ path('dashboard') }}" class="btn btn-outline-elegant btn-sm">{{ 'Dashboard'|trans }}</a>
            <a href="{{ path('register_keycloak') }}" class="btn btn-outline-cyan btn-sm">{{ 'Registrieren'|trans }}</a>
            <a href="{{ helpUrlParticipants }}" target="_blank"
               class="btn btn-outline-amber btn-sm">{{ 'Hilfe'|trans }}</a>
            {% if image is not null %}
            <br>
            <a href="{{ image['photographer_url'] }}" target="_blank" referrerpolicy="no-referrer" rel="noreferrer noopener">
          Image by {{ image['photographer'] }} </a>
                <a href="https://www.pexels.com" target="_blank" referrerpolicy="no-referrer" rel="noreferrer noopener"> provided by   <img height="30px"  src="https://images.pexels.com/lib/api/pexels.png"/>
                    </a>

            {% endif %}
        </div>
    </div>
    {{ include('base/__snack.html.twig') }}
{% endblock %}
